[build-system]
requires = ["uv_build>=0.9.8,<0.10.0"]
build-backend = "uv_build"

[tool.uv.build-backend]
module-root = ""

[project]
name = "writober"
version = "0.1.0"
description = "Python site generator for Writober (Inktober-prompted flash fiction)"
readme = "README.md"
requires-python = ">=3.14"
dependencies = [
    "htpy>=25.10.0",
    "markdown>=3.10",
    # Social cards:
    "brotli>=1.1.0",     # for fonts
    "fonttools>=4.60.1",
    "pillow>=11.3.0",
    "numpy>=2.3.4",
    # RSS:
    "feedgen>=1.0.0",
]
[project.scripts]
writober = "writober.__main__:main"

[dependency-groups]
dev = [
    "fastapi>=0.121.0",
    "pdbpp>=0.11.7",
    "uvicorn>=0.38.0",
    "watchfiles>=1.1.1",
    "websockets>=15.0.1",
]
lint = ["ruff>=0.13.3", "flowmark>=0.5.3"]

[tool.writober]
site_name = "Le Journal de Writober d'Ewjoachim"
description = "Une nouvelle par jour d'octobre sur le th√®me du mot du jour d'Inktober"
repository_url = "https://github.com/ewjoachim/writober"
copyright = "2024- Joachim Jablon - CC-BY-SA-NC"
author = "Joachim Jablon"
month = 10
month_name = "octobre"
language = "fr"
base_url = "https://writober.ewjoach.im"
timezone = "Europe/Paris"

[tool.basedpyright]
exclude = [".venv"]
reportUnknownMemberType = false
reportUnusedCallResult = false
reportAny = false
reportExplicitAny = false
reportUnreachable = false


[tool.ruff.lint]
extend-select = [
    "UP",  # pyupgrade
    "I",   # isort
    "E",   # pycodestyle errors
    "W",   # pycodestyle warnings
    "RUF", # ruff
]
fixable = ["ALL"]
extend-ignore = [
    "E501", # line too long
]
